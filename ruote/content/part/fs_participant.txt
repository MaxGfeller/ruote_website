---
title: fs_participant 
filter:
  - erb
  - textile
---

h2. fs_participant


This participant stores the workitems it receives in the filesystem (each
in its own file).

By default, the location for these files is under work/fs_participants/ but
this can be changed by setting the :fs_participant_path of the engine
configuration (the hash passed at engine initialization) to some other
path (the participant takes care of mkdir'ing non-existent dirs).

It's also possible to pass this :fs_participant_path as a participant
registration/instantiation option.

An example of FsParticipant registration :

<% coderay(:lang => 'ruby', :line_numbers => 'inline') do -%>
  alfred = engine.register_participant :alfred, Ruote::FsParticipant
<% end %>

Querying the participant for work[items] is quite straightforward :

<% coderay(:lang => 'ruby', :line_numbers => 'inline') do -%>
  puts "workitems count : #{alfred.size}"

  alfred.each do |workitem|
    puts "#{workitem.fei.to_s} --> #{workitem.fields['customer']}"
  end

  wi = alfred.first
  wi.fields['approved'] = true

  alfred.reply(wi)
    # removes the workitem from 'alfred' and hands it back to the engine
    # so that it may resume its travel in the workflow instance.
<% end %>
