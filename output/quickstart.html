<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    <title>ruote - quickstart</title>
    <script src='/js/shCore.js'></script>
    <script src='/js/shBrushRuby.js'></script>
    <script src='/js/shBrushJScript.js'></script>
    <script src='/js/shBrushXml.js'></script>
    <link href='/css/reset.css' rel='stylesheet' type='text/css' />
    <link href='/css/shCore.css' rel='stylesheet' type='text/css' />
    <link href='/css/shThemeDefault.css' rel='stylesheet' type='text/css' />
    <link href='/css/ruote.css' rel='stylesheet' type='text/css' />
  </head><body>
    <div id='container'>
      <div id='header'>
        <div id='header-top'>
          <div id='header-left'>
            <a href='/'>
              <img align='left' src='/images/ruote.png' />
              <span id='ruote' onclick="location.href = '/'; return true;">
                ruote 2.1
              </span>
            </a>
          </div>
          <div id='header-right'>
          </div>
        </div>
        <div id='header-bottom'>
          <div id='header-subtitle'>
            open source ruby workflow engine
          </div>
          <div id='header-menu'>
            <a href='documentation.html' title='documentation'>doc</a>
            <a href='source.html' title='source code'>source</a>
            <a href='download.html' title='download'>download</a>
            <a href='lists.html' title='mailing lists and irc'>lists</a>
            <a href='http://jmettraux.wordpress.com' title='blog'>blog</a>
            <a href='map.html' title='map'>map</a>
            <a class='nihongo' href='ja.html' title='日本語'>日本語</a>
          </div>
        </div>
      </div>
      <div id='content'>
        <h2>ruote quickstart</h2>
        <p>Ruote 2.1 is mainly tested with Ruby 1.9.1 but seems to run fine with Ruby 1.8.7.</p>
        <p>This quickstart aims at showing a minimal process instance run. It&#8217;s a limited example.</p>
        <h3>getting ruote 2.1</h3>
        <p>Provided that you have a recent version of <a href="http://progit.org/book/ch1-4.html">git</a>, you can do from your command line :</p>
        <pre>
        git clone git://github.com/jmettraux/ruote.git
        cd ruote
        git checkout ruote2.1
        rake build
        gem install pkg/ruote-2.1.9.gem
        </pre>
        <p>Installing as a gem will draw in the necessary gem dependencies, except a <span class="caps">JSON</span> gem.</p>
        <pre>
        # if you're using C (MRI) Ruby :
        gem install yajl-ruby
        
        # if you're using JRuby :
        gem install json-jruby
        
        # on windows :
        gem install json_pure
        </pre>
        <h3>first run</h3>
        <p>This piece of code passes a workitem from participant Alpha to participant Bravo :</p>
        <pre class="brush: ruby">
        require 'rubygems'
        require 'ruote'
        require 'ruote/storage/fs_storage'
        
        # preparing the engine
        
        engine = Ruote::Engine.new(
          Ruote::Worker.new(
            Ruote::FsStorage.new("ruote_work")))
        
        # registering participants
        #
        # two simplistic "block participants"
        #
        # 'alpha' adds a piece of information to the workitem, while 'bravo'
        # outputs that same part of that information
        
        engine.register_participant :alpha do |workitem|
          workitem.fields['message'] = { 'text' =&gt; 'hello !', 'author' =&gt; 'Alice' }
        end
        
        engine.register_participant :bravo do |workitem|
          puts "I received a message from #{workitem.fields['message']['author']}"
        end
        
        # defining a process
        
        pdef = Ruote.process_definition :name =&gt; 'test' do
          sequence do
            participant :alpha
            participant :bravo
          end
        end
        
        # launching, creating a process instance
        
        wfid = engine.launch(pdef)
        
        engine.wait_for(wfid)
          # blocks current thread until our process instance terminates
        
        # =&gt; 'I received a message from Alice'
        </pre>
        <p>This quickstart can be found in examples/ruote_quickstart.rb</p>
        <p>Run it with :</p>
        <pre>
        ruby examples/ruote_quickstart.rb
        </pre>
        <p>It will exit after the process instance terminated.</p>
      </div>
      <div id='footer'>
        <div id='footer-left'>
          this website was created with
          <a href='http://nanoc.stoneship.org'>nanoc</a>
          and
          <a href='http://alexgorbatchev.com/SyntaxHighlighter/'>syntax highlighter</a>
        </div>
        <div id='footer-right'>
          &copy; 2005-2010 the ruote team
        </div>
      </div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        SyntaxHighlighter.all();
      //]]>
    </script>
    <script src='http://www.google-analytics.com/ga.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        if (location.hostname != 'localhost' && location.hostname != '127.0.0.1') {
          var pageTracker=_gat._getTracker('UA-138748-2');
          pageTracker._initData();
          pageTracker._trackPageview();
        }
      //]]>
    </script>
  </body>
</html>
