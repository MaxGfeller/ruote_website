<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    <title>ruote - decision_participant</title>
    <script src='/js/shCore.js'></script>
    <script src='/js/shBrushRuby.js'></script>
    <script src='/js/shBrushJScript.js'></script>
    <script src='/js/shBrushXml.js'></script>
    <link href='/css/reset.css' rel='stylesheet' type='text/css' />
    <link href='/css/shCore.css' rel='stylesheet' type='text/css' />
    <link href='/css/shThemeDefault.css' rel='stylesheet' type='text/css' />
    <link href='/css/ruote.css' rel='stylesheet' type='text/css' />
  </head><body>
    <div id='container'>
      <div id='header'>
        <div id='header-top'>
          <div id='header-left'>
            <a href='/'>
              <img src='/images/ruote.png' />
            </a>
            <div id='header-subtitle'>
              open source ruby workflow engine
            </div>
          </div>
          <div id='header-right'>
          </div>
        </div>
        <div id='nav'>
          <span>
            <a href='documentation.html' title='documentation'>doc</a>
            <a href='source.html' title='source code'>source</a>
            <a href='download.html' title='download'>download</a>
            <a href='lists.html' title='mailing lists and irc'>lists</a>
            <a href='http://jmettraux.wordpress.com' title='blog'>blog</a>
            <a href='map.html' title='map'>map</a>
            <a class='nihongo' href='ja.html' title='日本語'>日本語</a>
          </span>
        </div>
      </div>
      <div id='content'>
        <h2>decision_participant</h2>
        <p>Decision participants were named &#8216;<span class="caps">CSV</span> participants&#8217; prior to ruote 2.1.</p>
        <p>Make sure you have the gem &#8220;rufus-decision&#8221; installed in order to<br />
        use this decision participant.</p>
        <h3>blog post</h3>
        <p>This Rufus::Decision::Participant was introduced in the &#8220;ruote and<br />
        decision tables&#8221; blog post :</p>
        <p><a href="http://jmettraux.wordpress.com/2010/02/17/ruote-and-decision-tables/">http://jmettraux.wordpress.com/2010/02/17/ruote-and-decision-tables/</a></p>
        <h3>example</h3>
        <p>In this example, a participant named &#8216;decide_team_member&#8217; is bound in the<br />
        ruote engine and, depending on the value of the workitem fields &#8216;topic&#8217;<br />
        and region, sets the value of the field named &#8216;team_member&#8217; :</p>
        <pre class="brush: ruby">
          require 'rufus/decision/participant'
        
          engine.register_participant(
            :decide_team_member
            Rufus::Decision::Participant, :table =&gt; %{
              in:topic,in:region,out:team_member
              sports,europe,Alice
              sports,,Bob
              finance,america,Charly
              finance,europe,Donald
              finance,,Ernest
              politics,asia,Fujio
              politics,america,Gilbert
              politics,,Henry
              ,,Zach
            })
        
          pdef = Ruote.process_definition :name =&gt; 'dec-test', :revision =&gt; '1' do
            sequence do
              decide_team_member
              participant :ref =&gt; '${team_member}'
            end
          end
        </pre>
        <p>A process instance about the election results in Venezuela :</p>
        <pre class="brush: ruby">
          engine.launch(
            pdef,
            'topic' =&gt; 'politics',
            'region' =&gt; 'america',
            'line' =&gt; 'election results in Venezuela')
        </pre>
        <p>would thus get routed to Gilbert.</p>
        <p>To learn more about decision tables :</p>
        <p><a href="http://github.com/jmettraux/rufus-decision">http://github.com/jmettraux/rufus-decision</a></p>
        <h3>pointing to a table via a <span class="caps">URI</span></h3>
        <p>Note that you can reference the table by its <span class="caps">URI</span> :</p>
        <pre class="brush: ruby">
          engine.register_participant(
            :decide_team_member
            Rufus::Decision::Participant,
            :table =&gt; 'http://decisions.example.com/journalists.csv')
        </pre>
        <p>If the table were a Google Spreadsheet, it would look like (note the<br />
        trailing &amp;output=csv) :</p>
        <pre class="brush: ruby">
          engine.register_participant(
            :decide_team_member
            Rufus::Decision::Participant,
            :table =&gt; 'http://spreadsheets.google.com/pub?key=pCZNVR1TQ&amp;output=csv')
        </pre>
      </div>
    </div>
    <div id='footer'>
      <p>
        <span id='footer-left'>
          this website was created with
          <a href='http://nanoc.stoneship.org'>nanoc</a>
          and
          <a href='http://alexgorbatchev.com/SyntaxHighlighter/'>syntax highlighter</a>
        </span>
        <span id='footer-right'>
          &copy; 2005-2010 the ruote team
        </span>
      </p>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        SyntaxHighlighter.all();
      //]]>
    </script>
    <script src='http://www.google-analytics.com/ga.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        if (location.hostname != 'localhost' && location.hostname != '127.0.0.1') {
          var pageTracker=_gat._getTracker('UA-138748-2');
          pageTracker._initData();
          pageTracker._trackPageview();
        }
      //]]>
    </script>
  </body>
</html>
