<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
    <title>ruote - index</title>
    <script src='/js/shCore.js'></script>
    <script src='/js/shBrushRuby.js'></script>
    <script src='/js/shBrushJScript.js'></script>
    <script src='/js/shBrushXml.js'></script>
    <link href='/css/reset.css' rel='stylesheet' type='text/css' />
    <link href='/css/shCore.css' rel='stylesheet' type='text/css' />
    <link href='/css/shThemeDefault.css' rel='stylesheet' type='text/css' />
    <link href='/css/ruote.css' rel='stylesheet' type='text/css' />
  </head><body>
    <div id='container'>
      <div id='header'>
        <div id='header-top'>
          <div id='header-left'>
            <a href='/'>
              <img src='/images/ruote.png' />
            </a>
            <div id='header-subtitle'>
              open source ruby workflow engine
            </div>
          </div>
          <div id='header-right'>
          </div>
        </div>
        <div id='nav'>
          <span>
            <a href='documentation.html' title='documentation'>doc</a>
            <a href='source.html' title='source code'>source</a>
            <a href='download.html' title='download'>download</a>
            <a href='lists.html' title='mailing lists and irc'>lists</a>
            <a href='http://jmettraux.wordpress.com' title='blog'>blog</a>
            <a href='map.html' title='map'>map</a>
            <a class='nihongo' href='ja.html' title='日本語'>日本語</a>
          </span>
        </div>
      </div>
      <div id='content'>
        <p><strong>Ruote</strong> is a workflow engine written in Ruby. Ruote is <a href="http://jmettraux.wordpress.com/2009/07/03/state-machine-workflow-engine/">not</a> a state machine library.</p>
        <p>It could be described as an &#8216;operating system for business processes&#8217;.</p>
        <p>A ruote engine may execute multiple <strong>process instances</strong> at a time. Processes are instantiated from <strong>process definitions</strong> written in a Ruby <span class="caps">DSL</span> or in <span class="caps">XML</span> (or directly as <span class="caps">JSON</span>). Process definitions describe the flow of work among <strong>participants</strong>. Participants stand for users, groups of users, services, legacy systems, etc.</p>
        <p>a process definition</p>
        <div style="width: 100%; position: relative;">
        <pre class="brush: ruby">
        require 'ruote' # gem install ruote
        
        pdef = Ruote.process_definition :name =&gt; 'work' do
          cursor do
            concurrence do
              reviewer1
              reviewer2
            end
            editor
            rewind :if =&gt; '${not_ok}'
              # back to the reviewers if editor not happy
            publish # the document
          end
        end
        </pre>
        <div style="position: absolute; top: -40px; right: -70px;">
        <img src="/images/pdef0.png" width="95%"/>
        </div>
        </div>
        <p>the engine and some participants</p>
        <pre class="brush: ruby">
        # engine
        
        require 'ruote/storage/fs_storage'
        
        engine = Ruote::Engine.new(Ruote::Worker.new(Ruote::FsStorage.new('work')))
        
        # participants
        
        engine.register_participant 'reviewer.+' do |workitem|
          puts "reviewing document #{workitem.fields['doc_url']}"
          print "approve ?"
          workitem.fields["#{workitem.participant_name}_reply"] = gets
        end
        
        engine.register_participant 'editor' do |workitem|
          puts "doc : #{workitem.fields['doc_url']}"
          puts "reviewers approval :"
          workitem.fields.entries.each do |k, v|
            puts "#{k} : #{v}" if k.match(/\_reply$/)
          end
          print "should we publish ?"
          workitem.fields['not_ok'] = (gets.strip == 'no')
        end
        
        engine.register_participant 'publish' do |workitem|
          PublicationService.post(workitem.fields['doc_url'])
        end
        </pre>
        <p>launching some process instances</p>
        <pre class="brush: ruby">
        wfid0 = engine.launch(
          pdef, 'doc_url' =&gt; 'http://en.wikipedia.org/wiki/File:Bundesbrief.jpg')
        wfid1 = engine.launch(
          pdef, 'doc_url' =&gt; 'http://en.wikipedia.org/wiki/File:Constitution_Pg1of4_AC.jpg')
        </pre>
        <p>later manipulations</p>
        <pre class="brush: ruby">
        # querying
        
        [ wfid0, wfid1 ].each do |wfid|
          ps = engine.process(wfid)
          puts "errors for #{wfid} ? #{ps.errors.size &gt; 0}"
        end
        
        # cancelling a process instance
        
        engine.cancel_process(wfid1)
        </pre>
        <p>Ruote is available under the <a href="http://en.wikipedia.org/wiki/MIT_License"><span class="caps">MIT</span></a> open source license.</p>
        <p>Ruote used to be named &#8216;openwfe-ruby&#8217; then &#8216;openwferu&#8217;. The name is now &#8216;ruote&#8217; (pronounce it &#8216;ru-o-te&#8217; or &#8216;route&#8217;, as you wish).</p>
        <p>For more, head to the <a href="documentation.html">documentation</a> or to the <a href="quickstart.html">quickstart</a> or have a look at a few <a href="presentations.html">slides</a>.</p>
        <h3>community</h3>
        <p>The mailing list is still the &#8216;openwferu&#8217; one at <a href="http://groups.google.com/group/openwferu-users">http://groups.google.com/group/openwferu-users</a></p>
        <p>The freenode.net channel is #ruote, feel free to stop by for a chat and a coffee. The channel archives are available at <a href="http://ruote.rubyforge.org/irclogs/">http://ruote.rubyforge.org/irclogs/</a></p>
        <p>See <a href="source.html">source</a> for a list of the ruote related projects on github.</p>
        <p>Here is a non-exhaustive <a href="users.html">list</a> of organizations using ruote.</p>
      </div>
    </div>
    <div id='footer'>
      <p>
        <span id='footer-left'>
          this website was created with
          <a href='http://nanoc.stoneship.org'>nanoc</a>
          and
          <a href='http://alexgorbatchev.com/SyntaxHighlighter/'>syntax highlighter</a>
        </span>
        <span id='footer-right'>
          &copy; 2005-2010 the ruote team
        </span>
      </p>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        SyntaxHighlighter.all();
      //]]>
    </script>
    <script src='http://www.google-analytics.com/ga.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        if (location.hostname != 'localhost' && location.hostname != '127.0.0.1') {
          var pageTracker=_gat._getTracker('UA-138748-2');
          pageTracker._initData();
          pageTracker._trackPageview();
        }
      //]]>
    </script>
  </body>
</html>
