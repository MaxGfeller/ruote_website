
<html>
  <head>
    
    <title>OpenWFEru - devdoc</title>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link href="../xml.css" type="text/css" rel="stylesheet"/>
    <link href="../ruby.css" type="text/css" rel="stylesheet"/>
    <link href="../openwferu.css" type="text/css" rel="stylesheet"/>
  </head>

  <body class="composite">

    <a name="top"></a>

    <div id="banner">
      <a href="../index.html"
        ><img src="../images/openwfe-logo.png" alt="OpenWFEru"/></a>
      <div id="siteSearch">
        <!--siteSearch-->
      </div>
    </div>

    <div id="breadcrumbs">
        <div style="float:left">
            open source ruby workflow and bpm engine
        </div>
        <div style="float:right">
            <a href="/index.html">english</a> | <a href="/ja/index.html">japanese</a>
        </div>
    </div>

    <div id="coreBox">

      <div id="leftColumn">
        <div id="navColumn">

         <br/>
         <ul>
<li class='collapsed'><a href=../ja/index.html>index</a></li>
<li class='collapsed'><a href=../ja/license.html>license</a></li>
<li class='collapsed'><a href=../ja/quickstart.html>quickstart</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=../ja/download.html>download</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=../ja/documentation.html>documentation</a></li>
<li class='collapsed'><a href=../ja/expressions.html>expressions</a></li>
<li class='collapsed'><a href=../ja/participants.html>participants</a></li>
<li class='collapsed'><a href=../ja/patterns.html>patterns</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=source.html>source</a></li>
<li class='collapsed'><a href=../rdoc/index.html>rdoc</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=../ja/activity.html>activity</a></li>
<li class='collapsed'><a href=../ja/lists.html>mailing lists</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=http://jmettraux.wordpress.com>tech blog</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=http://github.com/jmettraux/ruote/tree/master/CREDITS.txt>credits</a></li>
<li class='collapsed'><a href=http://rubyforge.org/projects/openwferu>on rubyforge</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=../ja/scheduler.html>the scheduler</a></li>
<li class='collapsed'><a href=../ja/sqs.html>amazon sqs</a></li>
<li class='collapsed'><a href=../ja/kotoba.html>kotoba</a></li>
<li>&nbsp;</li>
<li class='collapsed'><a href=http://code.google.com/p/ruby-taskr/>Taskr</a></li>
<li class='collapsed'><a href=http://rufus.rubyforge.org>Rufus</a></li>
<li class='collapsed'><a href=http://rools.rubyforge.org>Rools</a></li>
</ul>

         <!--hostedOnRubyForge-->

         <br/>
         <br/>

         <p align="right">
             <span 
                style='font-size: 7pt; color: #7c7c90'
             >website<br/>generated with</span><br/>
             <a href='http://rote.rubyforge.org/' target='_blank'
                 ><img 
                    src='../images/rote-tiny.png' 
                    alt='Rote' /></a>
         </p>

         <!--fisheye?-->
        </div>
      </div>

      <div id="rightColumn">
        <script type="text/javascript"><!--
google_ad_client = "pub-2190386866693134";
google_ad_width = 120;
google_ad_height = 240;
google_ad_format = "120x240_as";
google_ad_type = "text_image";
google_ad_channel ="";
//--></script>
        <script 
            type="text/javascript" 
            src="http://pagead2.googlesyndication.com/pagead/show_ads.js"
        >
        </script>
      </div>

      <div id="bodyColumn">
        <h2>OpenWFEru デベロッパー用ドキュメント</h2>
<h3><a name="into">OpenWFEruへの入り口</a></h3>
<p>初めは <a href="/examples/quotereporter.rb">quotereporter.rb</a> の例を学習するとよいでしょう。</p>
<p>他の&quot;サンプル&quot;:/examples/ も見てください。</p>
<p>その中に &#8220;flow tracing&#8221; の例があります。以下でこれを起動できます。</p>
<pre>
    ruby -I lib examples/flowtracing.rb
</pre>
<p>これはそれぞれのparticipant に着いたトレースを標準出力に表示します。</p>
<p>次のステップは&quot;ft_&quot;で始まる名前のユニットテストを見ることでしょう。これらはプロセスエンジンの様子を全て表示します。</p>
<p>もし専門用語を忘れたら、 <a href="glossary.html">glossary</a> を見てください。</p>
<h3><a name="utests">ユニットテストの起動</a></h3>
<p><em>Note :</em> OpenWFEru は MacOSX (<em>ruby 1.8.5 (2006-12-25 patchlevel 12) [i686-darwin8.8.3]</em>  この環境は <a href="http://hivelogic.com/narrative/articles/ruby-rails-mongrel-mysql-osx">Hivelogic</a> のDan Benjamin に教示していただきました)で開発・テストしています。</p>
<p>Rake のしきたりに沿って、以下のようにユニットテストを走らせることができます。</p>
<pre>

    rake test

</pre>
<p>ある程度時間がかかります (私のマシンではおおよそ400秒)。それは&#8217;cron&#8217;, &#8216;sleep&#8217;, &#8216;when&#8217;,またはスケジューラーに関する時間に関係したテストを含んだ<b>全ての</b> テストが実行されるからです。</p>
<p>もしもっと早く実行したいなら (たぶんあなたがソースの変更を伝える後でしょうけど), 以下のように。</p>
<pre>

    rake qtest

</pre>
<p>これは test/rake_qtest.rb にリストアップされているテストのみを実行します。これだと 22 秒です(私のマシンでは)。</p>
<p>rake でテストを実行するごとに、最新の <em>engine.log</em> にテストの実行ログ(完全なデバッグログを含む)が出力されます。これはテスト・デバッグ中のあなたのベストフレンドです。</p>
<p>OpenWFEru はワークフロー / <span class="caps">BPM</span> エンジンなので, 永続という要素はとても重要です (平均的なビジネスプロセスは長く続き、リスタートで生き返らないといけません)。</p>
<p>rake_qtest.rb にある永続モードのテストを全て実行するには…以下です。</p>
<pre>

    rake ptest

</pre>
<p>このテストの永続モードはキャッシュを使わないことに注意してください。これは完成品ではなくテスト版という意味で、.つまりexpression がテストされた永続的なタイミングで全てのエラーが表示されるということです。&#8217;ptest&#8217; を実行すると, 全ての &#8216;ft_&#8217; のテストはこの何もしていない永続モードで実行されます。</p>
<p>一度に一つのテストを実行するには…。</p>
<pre>

    rake test TEST=test/ft_2_concurrence.rb

</pre>
<p>同じテストを永続モード (FlowTestBaseの拡張機能です) で実行するには…。</p>
<pre>

    rake ptest TEST=test/ft_2_concurrence.rb

</pre>
<p>&#8216;test&#8217; を &#8216;ptest&#8217; に変えるだけです。</p>
<p>また、&quot;CachedFilePersistenceEngine&quot;(インメモリーくらい速く永続化するエンジン)用のテスト一式もあります。</p>
<p>これをテストするには…以下です。</p>
<pre>

    rake ctest

</pre>
<h3><a name="template">エンジン テンプレート</a></h3>
<p>OpenWFEru エンジンのコンフィグ方法を示す. <a href="/examples/engine_template.rb">テンプレート</a> があります。これにはたくさんのコメントがあります。</p>
<p>OpenWFEru エンジンのちゃんとしたセッティングをするためにこのテンプレートをコピーして修正することができます。</p>
<p><em>(続く)</em></p>
      </div>

      <div id="footer">
        <div class="xright">&#169;2005-2008 OpenWFE.org</div>
        <div class="clear">
          <hr/>
        </div>
      </div>

    </div>

<script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script>
<script type="text/javascript">
var pageTracker=_gat._getTracker('UA-138748-2');
pageTracker._initData();
pageTracker._trackPageview();
</script>

  </body>
</html>

